"use strict";(self.webpackChunkbest_search=self.webpackChunkbest_search||[]).push([[955],{3955:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(1413),i=n(5861),c=n(885),s=n(7757),l=n.n(s),a=n(2791),o=n(6030),u=n(6871),d=n(2451),f=n(1288),h=n(184),p=function(e){return(0,h.jsx)(f.Z,{container:!0,spacing:2,children:e.children})},v=n(9215),x=n(283),m=n(2953),y=n(4697),j=n(8302),w=n(3264),Z=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)(178),r=(0,c.Z)(n,2),i=r[0],s=r[1],l=(0,a.useState)(),o=(0,c.Z)(l,2),u=o[0],d=o[1],p=e.search_msv,Z=e.name,g=e.growth,b=e.update_dt,k=e.loading,E=(0,a.useCallback)((function(){if(!u&&!k&&null!==t&&void 0!==t&&t.current){var e=v.S1(t.current);e.setOption({tooltip:{},grid:{bottom:0,left:0,right:0},xAxis:{show:!1,data:null===p||void 0===p?void 0:p.reduce((function(e,t){return e.push(t.date),e}),[])},yAxis:{show:!1},series:[{name:"sv",type:"line",data:null===p||void 0===p?void 0:p.reduce((function(e,t){return e.push(t.sv),e}),[]),lineStyle:{width:0},areaStyle:{opacity:.8,color:new v.Q.o(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])}}]}),d(e)}}),[k,u,p]),S=(0,a.useCallback)((function(){var e;s(null===(e=t.current)||void 0===e?void 0:e.clientWidth),null===u||void 0===u||u.resize()}),[u,t]);return(0,a.useEffect)((function(){window.addEventListener("resize",S)}),[u,S]),(0,a.useEffect)((function(){return function(){window.removeEventListener("resize",S)}}),[S]),(0,a.useEffect)((function(){var e;s(null===(e=t.current)||void 0===e?void 0:e.clientWidth),E()}),[t,E]),(0,a.useEffect)((function(){null===u||void 0===u||u.resize()}),[i,u]),(0,h.jsx)(f.Z,{item:!0,xs:12,md:3,sm:6,lg:3,className:"trend",children:(0,h.jsxs)(x.Z,{children:[(0,h.jsxs)(m.Z,{children:[(0,h.jsxs)("div",{className:"trend-header",children:[(0,h.jsxs)("h3",{children:[(0,h.jsx)("small",{children:null===Z||void 0===Z?void 0:Z.split(" ")[0]})," ",null===Z||void 0===Z?void 0:Z.split(" ")[1]]}),(0,h.jsx)("small",{children:g?"Growth: ".concat(g,"%"):""})]}),(0,h.jsx)("div",{className:"trend-chart",style:{height:i},ref:t,children:(0,h.jsx)(w.Z,{variant:"rect",height:i})})]}),(0,h.jsx)(y.Z,{children:(0,h.jsx)(j.Z,{variant:"body2",color:"textSecondary",component:"p",style:{textAlign:"center",width:"100%",padding:"0 10px"},children:k?(0,h.jsx)(w.Z,{}):b})})]})})};function g(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.product_trends})),n=(0,a.useState)(!0),s=(0,c.Z)(n,2),f=s[0],v=s[1],x=(0,u.UO)().keyword;return x=x.replaceAll("+"," ").replaceAll("%2F","/"),(0,a.useEffect)((function(){function t(){return(t=(0,i.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,d.I9)(x));case 2:v(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e({type:d.xY,payload:x}),e({type:d.te,payload:x}),function(){t.apply(this,arguments)}()}),[x,e]),(0,a.useEffect)((function(){return function(){e({type:d.xY,payload:""}),e({type:d.Jp,payload:[]})}}),[e]),(0,h.jsxs)("div",{className:"search",children:[(0,h.jsx)("h3",{className:"title",children:"Related product trends"}),(0,h.jsx)(p,{children:f?[{},{},{},{}].map((function(e,t){return(0,a.createElement)(Z,(0,r.Z)((0,r.Z)({},e),{},{key:t,loading:!0}))})):t.map((function(e,t){return(0,a.createElement)(Z,(0,r.Z)((0,r.Z)({},e),{},{key:"".concat(t).concat(e.name)}))}))})]})}}}]);
//# sourceMappingURL=955.669e5cc8.chunk.js.map